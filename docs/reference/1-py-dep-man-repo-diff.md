# Python Dependency Manager Repository Identification

> Updated on 2025-07-26 by @KemingHe

Technical reference for identifying which Python dependency manager a repository uses based on distinctive file patterns and configurations.

> [!NOTE]
> **For adoption statistics and market analysis**, see [Repository Statistics](./2-py-dep-man-adopt-stats.md).

## Pip ([pypa/pip](https://github.com/pypa/pip))

**Primary Identifier**: `requirements.txt` files

**Distinctive Files**:

- `requirements.txt` - Standard requirements
- `requirements.in` - pip-tools input file
- `setup.py` - Legacy setup file
- `pip.conf` - Configuration file

**Configuration Patterns**:

```plaintext
# requirements.txt
package==1.0.0
another-package>=2.0,<3.0
git+https://github.com/user/repo.git@tag
```

```toml
# Modern pyproject.toml
[build-system]
requires = ["setuptools>=45", "wheel"]
build-backend = "setuptools.build_meta"
```

---

## Poetry ([python-poetry/poetry](https://github.com/python-poetry/poetry))

**Primary Identifier**: `poetry.lock` file

**Distinctive Files**:

- `poetry.lock` - Poetry's lock file (unique identifier)
- `poetry.toml` - Local configuration

**Configuration Patterns**:

```toml
# pyproject.toml
[build-system]
requires = ["poetry-core>=2.0.0,<3.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.poetry]
name = "project-name"
version = "0.1.0"

[tool.poetry.dependencies]
python = "^3.9"
```

**Lock File Content**:

```toml
# This file is automatically @generated by Poetry
[[package]]
name = "package-name"
```

---

## Conda ([conda/conda](https://github.com/conda/conda))

**Primary Identifier**: `environment.yml` or `environment.yaml` file

**Distinctive Files**:

- `environment.yml` - Environment specification (unique identifier)
- `.condarc` - Configuration file (YAML format)
- `conda-lock.yml` - When using conda-lock

**Configuration Patterns**:

```yaml
# environment.yml
name: my-project
channels:
  - conda-forge
  - defaults
dependencies:
  - python=3.9
  - numpy
  - pip:
    - some-pip-package
```

---

## UV ([astral-sh/uv](https://github.com/astral-sh/uv))

**Primary Identifier**: `uv.lock` file

**Distinctive Files**:

- `uv.lock` - Universal lock file (unique identifier)
- `uv.toml` - Standalone configuration (takes precedence over pyproject.toml)
- `.python-version` - Python version pinning

**Configuration Patterns**:

```toml
# pyproject.toml
[build-system]
requires = ["uv_build>=0.8.2,<0.9.0"]
build-backend = "uv_build"

[tool.uv.workspace]
members = ["packages/*"]

[dependency-groups]
dev = ["pytest", "ruff"]
```

**Lock File Content**:

```toml
version = 1
requires-python = ">=3.9"
```

---

## Quick Identification Matrix

| Tool | Lock File | Config | Build Backend |
| :--- | :--- | :--- | :--- |
| **UV** | `uv.lock` | `uv.toml` | `uv_build` |
| **Poetry** | `poetry.lock` | `poetry.toml` | `poetry.core.masonry.api` |
| **Conda** | `environment.yml` | `.condarc` | N/A |
| **Pip** | `requirements.txt` | `pip.conf` | `setuptools.build_meta` |

## Analysis Notes

- Lock files (`uv.lock`, `poetry.lock`) are the strongest unique identifiers
- `environment.yml` definitively indicates Conda usage
- `requirements.txt` alone may indicate Pip but can coexist with other tools
- Build backend specifications in `pyproject.toml` provide secondary confirmation
- Multiple dependency managers may coexist in the same repository
